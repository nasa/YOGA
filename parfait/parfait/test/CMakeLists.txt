set(test_sources
        Adt3DExtentTests.cpp
        Adt3DPointTests.cpp
        AdtTests.cpp
        AflrToCGNSTests.cpp
        BarChartTests.cpp
        BVHTreeTests.cpp
        CommandLineMenuTests.cpp
        BallTreeTests.cpp
        BaryCentricTests.cpp
        BlockSparseMatrixTests.cpp
        Cart3DTriReaderTests.cpp
        CellContainmentCheckerTests.cpp
        CommandLineTests.cpp
        ConsoleRedirectTests.cpp
        CRSTests.cpp
        CartBlockSliceTests.cpp
        CartBlockTests.cpp
        CGNSFaceExtractionTests.cpp
        CGNSToAflrTests.cpp
        DictionaryRulesTests.cpp
        CGNSToFun3dTests.cpp
        CGNSToVtkTests.cpp
        DisableFloatingPointExceptionsTests.cpp
        DictionaryTests.cpp
        DictionaryValidatorTests.cpp
        DistanceTreeTests.cpp
        DualMetricsTests.cpp
        EntityTests.cpp
        ExceptionTests.cpp
        EllipsoidTests.cpp
        EigenDecompositionTests.cpp
        ExtentMeshWrapperTests.cpp
        ExtentBuilderTests.cpp
        ExtentWriterTests.cpp
        EdgesTests.cpp
        EdgeSegmentProjectionTests.cpp
        ExtentTests.cpp
        FacetTests.cpp
        FlattenTests.cpp
        FortranParserTests.cpp
        FortranUnformattedTests.cpp
        Fun3DToCGNSTests.cpp
        GraphColoringTests.cpp
        GraphDistanceTests.cpp
        GraphIOTests.cpp
        GraphOrderingsTests.cpp
        GreedyGraphColoringTests.cpp
        HermiteSplineTests.cpp
        HexMetricsTests.cpp
        ImportedUgridTests.cpp
        InspectorTests.cpp
        InterpolationTests.cpp
        IntersectionsTests.cpp
        JsonCommonObjectParseTests.cpp
        JsonParserTests.cpp
        JsonSchemaToRulesTests.cpp
        KMeansClusteringTests.cpp
        LabelShellsTests.cpp
        LagrangeTriangleTests.cpp
        LexerTests.cpp
        LeastSquaresGradientTests.cpp
        LinearPartitionerTests.cpp
        LinearAlgebraTests.cpp
        LinspaceTests.cpp
        MarchingCubesTests.cpp
        MapbcParserTests.cpp
        MatrixMarketReaderTests.cpp
        MeshInterfaceTests.cpp
        MetricTensorTests.cpp
        MapToolsTests.cpp
        MetricsTests.cpp
        MinimumStorageSetTests.cpp
        MovingAveragesTests.cpp
        MortonTests.cpp
        NamelistTests.cpp
        NamelistParserTests.cpp
        NormalTests.cpp
        NodeToCellTests.cpp
        NodeToNodeBuilderTests.cpp
        ObjReaderTests.cpp
        OmlParserTests.cpp
        PrintLargeIntegerTests.cpp
        ParfaitMeshTests.cpp
        PointTest.cpp
        PointWriterTests.cpp
        OctreeTests.cpp
        ParallelExtent_test.cpp
        PlaneTests.cpp
        Plot3DTests.cpp
        PointwiseSourcesTests.cpp
        PyramidMetricsTests.cpp
        PrismMetricsTests.cpp
        QuadTreeTests.cpp
        RecursiveBisectionPartitionerTests.cpp
        RegionTests.cpp
        RegionFactoryTests.cpp
        RegistryTests.cpp
        RingBufferTests.cpp
        SCurveTests.cpp
        SetToolsTests.cpp
        SegmentTests.cpp
        ShellTests.cpp
        SolWriterTests.cpp
        SparseMatrixTests.cpp
        SphereTests.cpp
        StackTraceTests.cpp
        StitchFacetsTests.cpp
        StringToolsTests.cpp
        STLTests.cpp
        SyncFieldTests.cpp
        TopologyFunnelTests.cpp
        ToStringTests.cpp
        RewindCellTests.cpp
        SyncPatternTests.cpp
        SmoothingTests.cpp
        TecplotLineplotReaderTests.cpp
        TecplotWriterTests.cpp
        TetgenPolyWriterTests.cpp
        TetMetricsTests.cpp
        TriangleAABBClippingTests.cpp
        PomlParserTests.cpp
        UniquePointsTests.cpp
        VectorToolsTests.cpp
        DataFrameTests.cpp
        DecompositionsTests.cpp
        TriangleMetricTests.cpp
        MatrixTests.cpp
        WiggleTests.cpp
        )
add_catch_unit_test(ParfaitTests ${test_sources})
set_standard_ring_rpath(ParfaitTests)
add_mpi_test(ParfaitTests 2)
target_link_libraries(ParfaitTests PUBLIC parfait::parfait)
target_compile_definitions(ParfaitTests PRIVATE -DGRIDS_DIR="${CMAKE_CURRENT_SOURCE_DIR}/../../../grids/")
target_compile_definitions(ParfaitTests PRIVATE -DMATRIX_DIR="${CMAKE_CURRENT_SOURCE_DIR}/")
target_compile_definitions(ParfaitTests PRIVATE -DJSON_VALIDATOR_TESTS_DIR="${CMAKE_CURRENT_SOURCE_DIR}/json-validator-tests")